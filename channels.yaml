# 渠道定义
channels:
  yunwu_api:  # 综合节点
    base_url: "https://yunwu.ai/v1"
    api_key: "${YUNWU_API_KEY}"
    timeout: 300
    max_retries: 3
    
  gala_api:  # gemini节点
    base_url: "https://www.galaapi.com/v1"
    api_key: "${GALA_API_KEY}"
    timeout: 60
    max_retries: 3
    
  cld_api:  # cld节点
    base_url: "https://api.oaipro.com/v1"
    api_key: "${CLD_API_KEY}"
    timeout: 300
    max_retries: 2
    
  ds_api:  # ds节点
    base_url: "https://api.ephone.chat/v1"
    api_key: "${DS_API_KEY}"
    timeout: 300
    max_retries: 3
    
  vveai_api:  # 稳定gpt节点
    base_url: "https://api.vveai.com/v1"
    api_key: "${VVEAI_API_KEY}"
    timeout: 120
    max_retries: 2
  yunwu_grok_special:
    base_url: "https://yunwu.ai/v1"
    api_key: "sk-0nPrBUjQ1Eyjs8E0JeCSoxjaSODBqlgCOW73L4nsr58whjvl"
    timeout: 300
    max_retries: 3
  yunwu_deepseek_special:
    base_url: "https://yunwu.ai/v1"
    api_key: "sk-5Y6So0NE2bhXleZkMZFFIKwwqBP8RzppJcs6DsZzDALFCVAU"
    timeout: 300
    max_retries: 3

# 模型与渠道映射
model_channels:
  gemini-2.5-pro:
    primary: gala_api
    fallback: [yunwu_api]
    
  gpt-5-2025-08-07:
    primary: yunwu_api  # 302主要
    fallback: [vveai_api]
  
  claude-opus-4-1-20250805-thinking:
    primary: yunwu_api
    fallback: [cld_api]
    channel_map:
      cld_api: claude-opus-4-1-20250805
    
  deepseek-v3-1-think-250821:
    primary: yunwu_deepseek_special
    fallback: [yunwu_api, ds_api, vveai_api]
    channel_map:
      ds_api: deepseek-v3.1
      vveai_api: deepseek-v3.1-think-250821
    
  grok-4:
    primary: yunwu_grok_special
    fallback: [ds_api]

  gpt-4o:
    primary: vveai_api
    fallback: [yunwu_api]

# 全局fallback策略
global_fallback:
  enabled: true
  max_attempts: 3  # 包括主渠道在内，最多尝试3次（主+2个备用）
  retry_delay: 2  # 失败后等待2秒再尝试下一个渠道
